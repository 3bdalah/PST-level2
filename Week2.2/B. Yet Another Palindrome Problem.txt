/*
Link :  https://codeforces.com/contest/1324/problem/B

*/


#include <bits/stdc++.h>
using namespace std;
long long  const N = 5e5 + 10,mod = 1e9+7 , oo = 1e18+10;
int arr[N];

int main(){
   int t;
   cin>>t;
   while(t--){
       int n;cin>>n;
       int flag=0;
       for(int i=0;i<n;i++) cin>>arr[i];
       for(int i=0;i<n;i++){
        for(int j=i+2;j<n;j++){
            if(arr[i] == arr[j]){
                flag = 1;
                break;
            }
        }
        if(flag ) break;
       }
       if(flag == 0) cout <<"NO";
       else cout<<"YES";
       cout<<'\n';
   }
  return 0;
}






